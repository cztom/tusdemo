/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/tus-js-client@3.0.1/lib/node/sources/FileSource.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{createReadStream}from"fs";import{stat}from"fs/promises";export default async function getFileSource(t){const e=t.path.toString(),{size:s}=await stat(e),r=t.start??0,a=Number.isFinite(t.end)?t.end+1:s;return new FileSource(t,e,a-r)}class FileSource{constructor(t,e,s){this._stream=t,this._path=e,this.size=s}slice(t,e){const s=this._stream.start??0,r=createReadStream(this._path,{start:s+t,end:s+e-1,autoClose:!0});return r.size=e-t,Promise.resolve({value:r})}close(){this._stream.destroy()}}
//# sourceMappingURL=/sm/2ec6c1e13f8ff87b67bed6741584611745ac784f0f30a89d94d721cebb672d42.map