/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/tus-js-client@3.0.1/lib.es5/browser/urlStorage.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.canStoreURLs=exports.WebStorageUrlStorage=void 0;var hasStorage=!1;try{hasStorage="localStorage"in window;var key="tusSupport";localStorage.setItem(key,localStorage.getItem(key))}catch(e){if(e.code!==e.SECURITY_ERR&&e.code!==e.QUOTA_EXCEEDED_ERR)throw e;hasStorage=!1}var canStoreURLs=hasStorage;exports.canStoreURLs=canStoreURLs;var WebStorageUrlStorage=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"findAllUploads",value:function(){var e=this._findEntries("tus::");return Promise.resolve(e)}},{key:"findUploadsByFingerprint",value:function(e){var r=this._findEntries("tus::".concat(e,"::"));return Promise.resolve(r)}},{key:"removeUpload",value:function(e){return localStorage.removeItem(e),Promise.resolve()}},{key:"addUpload",value:function(e,r){var t=Math.round(1e12*Math.random()),o="tus::".concat(e,"::").concat(t);return localStorage.setItem(o,JSON.stringify(r)),Promise.resolve(o)}},{key:"_findEntries",value:function(e){for(var r=[],t=0;t<localStorage.length;t++){var o=localStorage.key(t);if(0===o.indexOf(e))try{var a=JSON.parse(localStorage.getItem(o));a.urlStorageKey=o,r.push(a)}catch(e){}}return r}}]),e}();exports.WebStorageUrlStorage=WebStorageUrlStorage;
//# sourceMappingURL=/sm/5432bc23c069152ddf6369fae96e3949ce3f097cce47af216dc3a4993ba13fa3.map